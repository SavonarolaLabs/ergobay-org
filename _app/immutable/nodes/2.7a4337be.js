var cs=Object.defineProperty;var us=(t,e,n)=>e in t?cs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var w=(t,e,n)=>(us(t,typeof e!="symbol"?e+"":e,n),n),Ut=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var $=(t,e,n)=>(Ut(t,e,"read from private field"),n?n.call(t):e.get(t)),ye=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ee=(t,e,n,s)=>(Ut(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n);var Ee=(t,e,n,s)=>({set _(r){ee(t,e,r,n)},get _(){return $(t,e,s)}});import{s as He,n as he,r as kn,j as Se,o as hs}from"../chunks/scheduler.71af12de.js";import{S as Pe,i as $e,g as T,s as M,m as D,h as B,j as C,f as v,c as j,n as N,A as Je,k as E,l as St,a as J,y as b,F as ct,x as Ce,G as ze,o as ne,H as xn,e as ut,d as Z,p as En,b as Tn,t as re,r as Ve,u as Ue,v as De,w as Ne}from"../chunks/index.b4fc6cc3.js";import{e as se,s as Bn,a as vt,b as Dt,c as Nt,w as ds,i as nt,D as fs,C as gs,f as ps,l as _s,g as ms}from"../chunks/notifier.478fc9c7.js";function ue(t,e){if(t)return;let n;switch(typeof e){case"string":n=new Error(e);break;case"function":n=new Error(e());break;default:n=e}throw n}function Sn(t,e){const n=typeof t;if(n!==e)throw new Error(`Expected an object of type '${e}', got '${n}'.`)}var bs=t=>Object.prototype.toString.call(t);function ys(t){if(t===null)return"null";const e=typeof t;return e==="object"||e==="function"?bs(t).slice(8,-1):e}function At(t,e){if(!(t instanceof e))throw new Error(`Expected an instance of '${e.name}', got '${ys(t)}'.`)}function ie(t){return t?Array.isArray(t)?t.length===0:Object.keys(t).length===0:!0}function K(t){return!ie(t)}function W(t){return t==null||Number.isNaN(t)}function H(t){return!W(t)}function de(t){if(t)return ue(t.length>0,"Empty array."),t[0]}function ws(t){if(t)return ue(t.length>0,"Empty array."),vs(t,-1)}function vs(t,e){const n=t==null?void 0:t.length;if(n)return e<0&&(e+=n),t[e]}function Is(t,e){return t.some((n,s)=>t.findIndex(r=>e(r)===e(n))!==s)}function ks(t,e){if(t.length<=e)return[t];const n=[];for(let s=0;s<t.length;s+=e)n.push(t.slice(s,s+e));return n}function xs(t,e,n="asc"){return[...t].sort((s,r)=>e(s)>e(r)?n==="asc"?1:-1:e(s)<e(r)?n==="asc"?-1:1:0)}function Es(t,e){if(t===e)return!0;if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function zt(t,e){if(t===e)return!0;if(e.length>t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ts(t,e){if(t===e)return!0;if(e.length>t.length)return!1;const n=t.length-e.length;for(let s=e.length-1;s>=0;s--)if(e[s]!==t[s+n])return!1;return!0}var O=BigInt(0),ht=BigInt(1),An=BigInt(7);BigInt(10);var Bs=BigInt(63),Cn=BigInt(127),On=BigInt(128);function G(t){return typeof t=="bigint"?t:BigInt(t)}function It(t,e,n){let s=O;if(ie(t))return s;for(const r of t)(W(n)||n(r))&&(s+=e(r));return s}var Le="nanoErgs";function me(t,e){const n={};for(const s of t)if((W(e)||e===Le)&&(n[Le]=(n[Le]||O)+G(s.value)),e!==Le)for(const r of s.assets)H(e)&&e!==r.tokenId||(n[r.tokenId]=(n[r.tokenId]||O)+G(r.amount));return H(e)?n[e]||O:{nanoErgs:n[Le]||O,tokens:Object.keys(n).filter(s=>s!==Le).map(s=>({tokenId:s,amount:n[s]}))}}function st(t,e){var r;Array.isArray(t)&&(t=me(t)),Array.isArray(e)&&(e=me(e));const n=[],s=t.nanoErgs-e.nanoErgs;for(const o of t.tokens){const i=o.amount-(((r=e.tokens.find(l=>l.tokenId===o.tokenId))==null?void 0:r.amount)||O);i!==O&&n.push({tokenId:o.tokenId,amount:i})}return{nanoErgs:s,tokens:n}}var Mt=4,Ss=9;function As(t){let e=0;for(let n=Mt;n<=Ss;n++){const s=`R${n}`;if(t[s]){if(n===Mt){e=n;continue}if(n-e>1)return!1;e=n}}return!0}function Cs(t){const e={};for(const n in t){const s=t[n];W(s)||(e[n]=s)}return e}function Ze(...t){const e=new Uint8Array(t.reduce((s,r)=>s+r.length,0));let n=0;for(const s of t)At(s,Uint8Array),e.set(s,n),n+=s.length;return e}function Hn(t){return!t||t.length%2?!1:(t.startsWith("0x")||(t="0x"+t),!isNaN(Number(t)))}function Fe(t){return t.length/2}var gt=(t=>(t[t.Mainnet=0]="Mainnet",t[t.Testnet=16]="Testnet",t))(gt||{}),te=(t=>(t[t.P2PK=1]="P2PK",t[t.P2SH=2]="P2SH",t[t.P2S=3]="P2S",t))(te||{}),jt={sizeInclusion:8,constantSegregation:16},Ct=class{constructor(){w(this,"_items");this._items=[]}_isIndexOutOfBounds(t){return t<0||t>=this._items.length}[Symbol.iterator](){let t=0;return{next:()=>({done:t>=this.length,value:this._items[t++]})}}get length(){return this._items.length}get isEmpty(){return this.length===0}at(t){if(this._isIndexOutOfBounds(t))throw new RangeError(`Index '${t}' is out of range.`);return this._items[t]}add(t,e){return this._addOneOrMore(t,e)}_addOne(t,e){if(H(e)&&H(e.index)){if(e.index===this.length)return this._items.push(this._map(t)),this.length;if(this._isIndexOutOfBounds(e.index))throw new RangeError(`Index '${e.index}' is out of range.`);return this._items.splice(e.index,0,this._map(t)),this.length}return this._items.push(this._map(t)),this._items.length}_addOneOrMore(t,e){if(Array.isArray(t)){H(e)&&H(e.index)&&(t=t.reverse());for(const n of t)this._addOne(n,e)}else this._addOne(t,e);return this.length}toArray(){return[...this._items]}reduce(t,e){return this._items.reduce(t,e)}};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Os=t=>t instanceof Uint8Array,dt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),_t=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),le=(t,e)=>t<<32-e|t>>>e,Hs=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Hs)throw new Error("Non little-endian hardware is not supported");function Ps(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Oe(t){if(typeof t=="string"&&(t=Ps(t)),!Os(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}class Pn{clone(){return this._cloneInto()}}function $s(t){const e=s=>t().update(Oe(s)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Ls(t){const e=(s,r)=>t(r).update(Oe(s)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=s=>t(s),e}function mt(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Rs(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function ft(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function $n(t,e){Rs(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Vs=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class Us extends Pn{constructor(e,n,s={},r,o,i){if(super(),this.blockLen=e,this.outputLen=n,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,mt(e),mt(n),mt(r),n<0||n>r)throw new Error("outputLen bigger than keyLen");if(s.key!==void 0&&(s.key.length<1||s.key.length>r))throw new Error(`key must be up 1..${r} byte long or undefined`);if(s.salt!==void 0&&s.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(s.personalization!==void 0&&s.personalization.length!==i)throw new Error(`personalization must be ${i} byte long or undefined`);this.buffer32=dt(this.buffer=new Uint8Array(e))}update(e){ft(this);const{blockLen:n,buffer:s,buffer32:r}=this;e=Oe(e);const o=e.length,i=e.byteOffset,l=e.buffer;for(let a=0;a<o;){this.pos===n&&(this.compress(r,0,!1),this.pos=0);const c=Math.min(n-this.pos,o-a),u=i+a;if(c===n&&!(u%4)&&a+c<o){const h=new Uint32Array(l,u,Math.floor((o-a)/4));for(let p=0;a+n<o;p+=r.length,a+=n)this.length+=n,this.compress(h,p,!1);continue}s.set(e.subarray(a,a+c),this.pos),this.pos+=c,this.length+=c,a+=c}return this}digestInto(e){ft(this),$n(e,this);const{pos:n,buffer32:s}=this;this.finished=!0,this.buffer.subarray(n).fill(0),this.compress(s,0,!0);const r=dt(e);this.get().forEach((o,i)=>r[i]=o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}_cloneInto(e){const{buffer:n,length:s,finished:r,destroyed:o,outputLen:i,pos:l}=this;return e||(e=new this.constructor({dkLen:i})),e.set(...this.get()),e.length=s,e.finished=r,e.destroyed=o,e.outputLen=i,e.buffer.set(n),e.pos=l,e}}const et=BigInt(2**32-1),kt=BigInt(32);function Ln(t,e=!1){return e?{h:Number(t&et),l:Number(t>>kt&et)}:{h:Number(t>>kt&et)|0,l:Number(t&et)|0}}function Ds(t,e=!1){let n=new Uint32Array(t.length),s=new Uint32Array(t.length);for(let r=0;r<t.length;r++){const{h:o,l:i}=Ln(t[r],e);[n[r],s[r]]=[o,i]}return[n,s]}const Ns=(t,e)=>BigInt(t>>>0)<<kt|BigInt(e>>>0),zs=(t,e,n)=>t>>>n,Ms=(t,e,n)=>t<<32-n|e>>>n,js=(t,e,n)=>t>>>n|e<<32-n,Fs=(t,e,n)=>t<<32-n|e>>>n,Gs=(t,e,n)=>t<<64-n|e>>>n-32,Ks=(t,e,n)=>t>>>n-32|e<<64-n,Qs=(t,e)=>e,Ws=(t,e)=>t,Xs=(t,e,n)=>t<<n|e>>>32-n,qs=(t,e,n)=>e<<n|t>>>32-n,Js=(t,e,n)=>e<<n-32|t>>>64-n,Ys=(t,e,n)=>t<<n-32|e>>>64-n;function Zs(t,e,n,s){const r=(e>>>0)+(s>>>0);return{h:t+n+(r/2**32|0)|0,l:r|0}}const er=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),tr=(t,e,n,s)=>e+n+s+(t/2**32|0)|0,nr=(t,e,n,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),sr=(t,e,n,s,r)=>e+n+s+r+(t/2**32|0)|0,rr=(t,e,n,s,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0)+(r>>>0),ir=(t,e,n,s,r,o)=>e+n+s+r+o+(t/2**32|0)|0,or={fromBig:Ln,split:Ds,toBig:Ns,shrSH:zs,shrSL:Ms,rotrSH:js,rotrSL:Fs,rotrBH:Gs,rotrBL:Ks,rotr32H:Qs,rotr32L:Ws,rotlSH:Xs,rotlSL:qs,rotlBH:Js,rotlBL:Ys,add:Zs,add3L:er,add3H:tr,add4L:nr,add4H:sr,add5H:ir,add5L:rr},q=or,z=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),m=new Uint32Array(32);function we(t,e,n,s,r,o){const i=r[o],l=r[o+1];let a=m[2*t],c=m[2*t+1],u=m[2*e],h=m[2*e+1],p=m[2*n],d=m[2*n+1],g=m[2*s],f=m[2*s+1],y=q.add3L(a,u,i);c=q.add3H(y,c,h,l),a=y|0,{Dh:f,Dl:g}={Dh:f^c,Dl:g^a},{Dh:f,Dl:g}={Dh:q.rotr32H(f,g),Dl:q.rotr32L(f,g)},{h:d,l:p}=q.add(d,p,f,g),{Bh:h,Bl:u}={Bh:h^d,Bl:u^p},{Bh:h,Bl:u}={Bh:q.rotrSH(h,u,24),Bl:q.rotrSL(h,u,24)},m[2*t]=a,m[2*t+1]=c,m[2*e]=u,m[2*e+1]=h,m[2*n]=p,m[2*n+1]=d,m[2*s]=g,m[2*s+1]=f}function ve(t,e,n,s,r,o){const i=r[o],l=r[o+1];let a=m[2*t],c=m[2*t+1],u=m[2*e],h=m[2*e+1],p=m[2*n],d=m[2*n+1],g=m[2*s],f=m[2*s+1],y=q.add3L(a,u,i);c=q.add3H(y,c,h,l),a=y|0,{Dh:f,Dl:g}={Dh:f^c,Dl:g^a},{Dh:f,Dl:g}={Dh:q.rotrSH(f,g,16),Dl:q.rotrSL(f,g,16)},{h:d,l:p}=q.add(d,p,f,g),{Bh:h,Bl:u}={Bh:h^d,Bl:u^p},{Bh:h,Bl:u}={Bh:q.rotrBH(h,u,63),Bl:q.rotrBL(h,u,63)},m[2*t]=a,m[2*t+1]=c,m[2*e]=u,m[2*e+1]=h,m[2*n]=p,m[2*n+1]=d,m[2*s]=g,m[2*s+1]=f}class lr extends Us{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=z[0]|0,this.v0h=z[1]|0,this.v1l=z[2]|0,this.v1h=z[3]|0,this.v2l=z[4]|0,this.v2h=z[5]|0,this.v3l=z[6]|0,this.v3h=z[7]|0,this.v4l=z[8]|0,this.v4h=z[9]|0,this.v5l=z[10]|0,this.v5h=z[11]|0,this.v6l=z[12]|0,this.v6h=z[13]|0,this.v7l=z[14]|0,this.v7h=z[15]|0;const n=e.key?e.key.length:0;if(this.v0l^=this.outputLen|n<<8|65536|1<<24,e.salt){const s=dt(Oe(e.salt));this.v4l^=s[0],this.v4h^=s[1],this.v5l^=s[2],this.v5h^=s[3]}if(e.personalization){const s=dt(Oe(e.personalization));this.v6l^=s[0],this.v6h^=s[1],this.v7l^=s[2],this.v7h^=s[3]}if(e.key){const s=new Uint8Array(this.blockLen);s.set(Oe(e.key)),this.update(s)}}get(){let{v0l:e,v0h:n,v1l:s,v1h:r,v2l:o,v2h:i,v3l:l,v3h:a,v4l:c,v4h:u,v5l:h,v5h:p,v6l:d,v6h:g,v7l:f,v7h:y}=this;return[e,n,s,r,o,i,l,a,c,u,h,p,d,g,f,y]}set(e,n,s,r,o,i,l,a,c,u,h,p,d,g,f,y){this.v0l=e|0,this.v0h=n|0,this.v1l=s|0,this.v1h=r|0,this.v2l=o|0,this.v2h=i|0,this.v3l=l|0,this.v3h=a|0,this.v4l=c|0,this.v4h=u|0,this.v5l=h|0,this.v5h=p|0,this.v6l=d|0,this.v6h=g|0,this.v7l=f|0,this.v7h=y|0}compress(e,n,s){this.get().forEach((a,c)=>m[c]=a),m.set(z,16);let{h:r,l:o}=q.fromBig(BigInt(this.length));m[24]=z[8]^o,m[25]=z[9]^r,s&&(m[28]=~m[28],m[29]=~m[29]);let i=0;const l=Vs;for(let a=0;a<12;a++)we(0,4,8,12,e,n+2*l[i++]),ve(0,4,8,12,e,n+2*l[i++]),we(1,5,9,13,e,n+2*l[i++]),ve(1,5,9,13,e,n+2*l[i++]),we(2,6,10,14,e,n+2*l[i++]),ve(2,6,10,14,e,n+2*l[i++]),we(3,7,11,15,e,n+2*l[i++]),ve(3,7,11,15,e,n+2*l[i++]),we(0,5,10,15,e,n+2*l[i++]),ve(0,5,10,15,e,n+2*l[i++]),we(1,6,11,12,e,n+2*l[i++]),ve(1,6,11,12,e,n+2*l[i++]),we(2,7,8,13,e,n+2*l[i++]),ve(2,7,8,13,e,n+2*l[i++]),we(3,4,9,14,e,n+2*l[i++]),ve(3,4,9,14,e,n+2*l[i++]);this.v0l^=m[0]^m[16],this.v0h^=m[1]^m[17],this.v1l^=m[2]^m[18],this.v1h^=m[3]^m[19],this.v2l^=m[4]^m[20],this.v2h^=m[5]^m[21],this.v3l^=m[6]^m[22],this.v3h^=m[7]^m[23],this.v4l^=m[8]^m[24],this.v4h^=m[9]^m[25],this.v5l^=m[10]^m[26],this.v5h^=m[11]^m[27],this.v6l^=m[12]^m[28],this.v6h^=m[13]^m[29],this.v7l^=m[14]^m[30],this.v7h^=m[15]^m[31],m.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ar=Ls(t=>new lr(t));function cr(t,e,n,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),l=Number(n&o),a=s?4:0,c=s?0:4;t.setUint32(e+a,i,s),t.setUint32(e+c,l,s)}class ur extends Pn{constructor(e,n,s,r){super(),this.blockLen=e,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_t(this.buffer)}update(e){ft(this);const{view:n,buffer:s,blockLen:r}=this;e=Oe(e);const o=e.length;for(let i=0;i<o;){const l=Math.min(r-this.pos,o-i);if(l===r){const a=_t(e);for(;r<=o-i;i+=r)this.process(a,i);continue}s.set(e.subarray(i,i+l),this.pos),this.pos+=l,i+=l,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ft(this),$n(e,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let h=i;h<r;h++)n[h]=0;cr(s,r-8,BigInt(this.length*8),o),this.process(s,0);const l=_t(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)l.setUint32(4*h,u[h],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:l}=this;return e.length=r,e.pos=l,e.finished=o,e.destroyed=i,r%n&&e.buffer.set(s),e}}const hr=(t,e,n)=>t&e^~t&n,dr=(t,e,n)=>t&e^t&n^e&n,fr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ie=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ke=new Uint32Array(64);class gr extends ur{constructor(){super(64,32,8,!1),this.A=Ie[0]|0,this.B=Ie[1]|0,this.C=Ie[2]|0,this.D=Ie[3]|0,this.E=Ie[4]|0,this.F=Ie[5]|0,this.G=Ie[6]|0,this.H=Ie[7]|0}get(){const{A:e,B:n,C:s,D:r,E:o,F:i,G:l,H:a}=this;return[e,n,s,r,o,i,l,a]}set(e,n,s,r,o,i,l,a){this.A=e|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=l|0,this.H=a|0}process(e,n){for(let h=0;h<16;h++,n+=4)ke[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const p=ke[h-15],d=ke[h-2],g=le(p,7)^le(p,18)^p>>>3,f=le(d,17)^le(d,19)^d>>>10;ke[h]=f+ke[h-7]+g+ke[h-16]|0}let{A:s,B:r,C:o,D:i,E:l,F:a,G:c,H:u}=this;for(let h=0;h<64;h++){const p=le(l,6)^le(l,11)^le(l,25),d=u+p+hr(l,a,c)+fr[h]+ke[h]|0,f=(le(s,2)^le(s,13)^le(s,22))+dr(s,r,o)|0;u=c,c=a,a=l,l=i+d|0,i=o,o=r,r=s,s=d+f|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,l=l+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,i,l,a,c,u)}roundClean(){ke.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const pr=$s(()=>new gr);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rn(...t){const e=(r,o)=>i=>r(o(i)),n=Array.from(t).reverse().reduce((r,o)=>r?e(r,o.encode):o.encode,void 0),s=t.reduce((r,o)=>r?e(r,o.decode):o.decode,void 0);return{encode:n,decode:s}}function _r(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const s=t.indexOf(n);if(s===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return s})}}}function mr(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of e)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function Ft(t,e,n){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let s=0;const r=[],o=Array.from(t);for(o.forEach(i=>{if(i<0||i>=e)throw new Error(`Wrong integer: ${i}`)});;){let i=0,l=!0;for(let a=s;a<o.length;a++){const c=o[a],u=e*i+c;if(!Number.isSafeInteger(u)||e*i/e!==i||u-c!==e*i)throw new Error("convertRadix: carry overflow");i=u%n;const h=Math.floor(u/n);if(o[a]=h,!Number.isSafeInteger(h)||h*n+i!==u)throw new Error("convertRadix: carry overflow");if(l)h?l=!1:s=a;else continue}if(r.push(i),l)break}for(let i=0;i<t.length-1&&t[i]===0;i++)r.push(0);return r.reverse()}function br(t){return{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Ft(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Ft(e,t,2**8))}}}function yr(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const s=e(n).slice(0,t),r=new Uint8Array(n.length+t);return r.set(n),r.set(s,n.length),r},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const s=n.slice(0,-t),r=e(s).slice(0,t),o=n.slice(-t);for(let i=0;i<t;i++)if(r[i]!==o[i])throw new Error("Invalid checksum");return s}}}const wr=t=>Rn(br(58),_r(t),mr("")),Vn=wr("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),vr=t=>Rn(yr(4,e=>t(t(e))),Vn);var Ir=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function kr(t){At(t,Uint8Array);let e="";for(let n=0,s=t.length;n<s;n++)e+=Ir[t[n]];return e}function xr(t){Sn(t,"string"),ue(t.length%2===0,"Invalid hex padding.");const e=new Uint8Array(t.length/2);for(let n=0,s=0,r=e.length;n<r;n++){const o=Gt(t.charCodeAt(s++)),i=Gt(t.charCodeAt(s++));e[n]=o*16+i}return e}function Gt(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-(65-10);if(t>=97&&t<=102)return t-(97-10);throw new Error("Invalid byte sequence.")}var F={encode:kr,decode:xr};function Er(t){return At(t,Uint8Array),new TextDecoder().decode(t)}function Tr(t){return Sn(t,"string"),new Uint8Array(new TextEncoder().encode(t))}var bt={encode:Er,decode:Tr};vr(Br);var Me=Vn;function Un(t){return t instanceof Uint8Array?t:F.decode(t)}function Ge(t){return ar(Un(t),{dkLen:32})}function Br(t){return pr(Un(t))}function Sr(t){t.length%2&&(t="0"+t);const e=BigInt("0x"+t);return 128&parseInt(t.slice(0,2),16)?-Dn(e):e}function Ar(t){const e=t>=O;e||(t=Dn(t));let n=t.toString(16);return n.length%2&&(n="0"+n),e&&128&parseInt(n.slice(0,2),16)&&(n="00"+n),n}function Dn(t){const e=t<O;e&&(t=-t);const n=t.toString(2);let s=n.length;const r=s%8;r>0?s+=8-r:e&&de(n)==="1"&&n.indexOf("1",1)!==-1&&(s+=8);const o=(1n<<BigInt(s))-1n;return(~t&o)+1n}function Cr(t,e){if(e===0)return t.write(0);if(e<0)throw new RangeError("Variable Length Quantity not supported for negative numbers.");do{let n=e&127;e>>=7,e>0&&(n|=128),t.write(n)}while(e>0);return t}function yt(t){if(t.isEmpty)return 0;let e=0,n=0,s=0;do s=t.readByte(),e|=(s&127)<<n,n+=7;while(s&128);return e}function Or(t,e){if(e===O)return t.write(0);if(e<O)throw new RangeError("Variable Length Quantity not supported for negative numbers");do{let n=Number(e&Cn);e>>=An,e>0&&(n|=128),t.write(n)}while(e>0);return t}function Hr(t){if(t.isEmpty)return O;let e=O,n=O,s=O;do s=BigInt(t.readByte()),e|=(s&Cn)<<n,n+=An;while((s&On)!=O);return e}function X(t){let e=0;if(typeof t=="number"){do e++,t=Math.floor(t/128);while(t>0);return e}t=G(t);do e++,t/=On;while(t>O);return e}function Pr(t){return t<<1^t>>63}function $r(t){return t>>1^-(t&1)}function Lr(t){return t<<ht^t>>Bs}function Rr(t){return t>>ht^-(t&ht)}var pe,ce,wn,Vr=(wn=class{constructor(t){ye(this,pe,void 0);ye(this,ce,void 0);typeof t=="string"?ee(this,pe,F.decode(t)):ee(this,pe,t),ee(this,ce,0)}get isEmpty(){return ie($(this,pe))}readBoolean(){return this.readByte()===1}readBits(t){const e=new Array(t);let n=0;for(let s=0;s<t;s++){const r=$(this,pe)[$(this,ce)]>>n++&1;e[s]=r===1,n==8&&(n=0,Ee(this,ce)._++)}return n>0&&Ee(this,ce)._++,e}readByte(){return $(this,pe)[Ee(this,ce)._++]}readBytes(t){return $(this,pe).subarray($(this,ce),ee(this,ce,$(this,ce)+t))}readVlq(){return yt(this)}readShort(){return Number($r(yt(this)))}readInt(){const t=this.readLong();return Number(t)}readLong(){return Rr(Hr(this))}readBigInt(){const t=yt(this);return Sr(F.encode(this.readBytes(t)))}},pe=new WeakMap,ce=new WeakMap,wn),_e,Y,vn,Ot=(vn=class{constructor(t){ye(this,_e,void 0);ye(this,Y,void 0);ee(this,_e,new Uint8Array(t)),ee(this,Y,0)}get length(){return $(this,Y)}writeBoolean(t){return this.write(t===!0?1:0),this}writeVLQ(t){return Cr(this,t)}writeBigVLQ(t){return Or(this,t)}writeShort(t){return this.writeVLQ(Pr(t)),this}writeInt(t){return this.writeLong(BigInt(t)),this}writeLong(t){return this.writeBigVLQ(Lr(t)),this}write(t){return $(this,_e)[Ee(this,Y)._++]=t,this}writeBytes(t){return $(this,_e).set(t,$(this,Y)),ee(this,Y,$(this,Y)+t.length),this}writeHex(t){return this.writeBytes(F.decode(t))}writeBits(t){let e=0;for(let n=0;n<t.length;n++)t[n]?$(this,_e)[$(this,Y)]|=1<<e++:$(this,_e)[$(this,Y)]&=~(1<<e++),e==8&&(e=0,Ee(this,Y)._++);return e>0&&Ee(this,Y)._++,this}writeBigInt(t){const e=Ar(t);return this.writeVLQ(e.length/2),this.writeHex(e),this}toHex(){return F.encode(this.toBytes())}toBytes(){return $(this,_e).subarray(0,$(this,Y))}},_e=new WeakMap,Y=new WeakMap,vn),Nn=class{coerce(t){return t}},zn=class extends Nn{get embeddable(){return!1}},xe=class extends zn{get embeddable(){return!0}},Qe,In,Mn=(In=class extends Nn{constructor(e){super();ye(this,Qe,void 0);ee(this,Qe,e)}get elementsType(){return $(this,Qe)}get embeddable(){return!1}},Qe=new WeakMap,In),jn=class extends xe{get code(){return 1}toString(){return"SBool"}},Fn=class extends xe{get code(){return 2}toString(){return"SByte"}},Gn=class extends xe{get code(){return 3}toString(){return"SShort"}},Kn=class extends xe{get code(){return 4}toString(){return"SInt"}},Qn=class extends xe{get code(){return 5}coerce(t){return G(t)}toString(){return"SLong"}},Wn=class extends xe{get code(){return 6}coerce(t){return G(t)}toString(){return"SBigInt"}},Xn=class extends xe{get code(){return 7}coerce(t){return typeof t=="string"?F.decode(t):t}toString(){return"SGroupElement"}},qn=class extends xe{get code(){return 8}toString(){return"SSigmaProp"}},Jn=class extends zn{get code(){return 98}toString(){return"SUnit"}},Q=Object.freeze({embeddable:0,simpleColl:1,nestedColl:2,option:3,optionCollection:4,pairOne:5,pairTwo:6,symmetricPair:7,genericTuple:8}),Yn=11,xt=Yn+1,ae=t=>xt*t,Ur=Object.freeze({code:ae(Q.simpleColl),embeddable:!1,simpleCollTypeCode:ae(Q.simpleColl),nestedCollTypeCode:ae(Q.nestedColl)}),Dr=Object.freeze({code:ae(Q.pairOne),embeddable:!1,pairOneTypeCode:ae(Q.pairOne),pairTwoTypeCode:ae(Q.pairTwo),tripleTypeCode:ae(Q.pairTwo),symmetricPairTypeCode:ae(Q.symmetricPair),quadrupleTypeCode:ae(Q.symmetricPair),genericTupleTypeCode:ae(Q.genericTuple)}),_={bool:new jn,byte:new Fn,short:new Gn,int:new Kn,long:new Qn,bigInt:new Wn,groupElement:new Xn,sigmaProp:new qn,unit:new Jn,coll:Ur,tuple:Dr};function Et(t){return t.code>=_.coll.simpleCollTypeCode&&t.code<=_.coll.nestedCollTypeCode+Yn}function Zn(t){return t.code>=_.tuple.pairOneTypeCode&&t.code<=_.tuple.genericTupleTypeCode}function Te(t){switch(t){case _.bool.code:return _.bool;case _.byte.code:return _.byte;case _.short.code:return _.short;case _.int.code:return _.int;case _.long.code:return _.long;case _.bigInt.code:return _.bigInt;case _.groupElement.code:return _.groupElement;case _.sigmaProp.code:return _.sigmaProp;default:throw new Error(`The type code '0x${t.toString(16)}' is not a valid primitive type code.`)}}var rt=class extends Mn{get code(){return _.coll.code}coerce(t){return this.elementsType.code===_.byte.code&&!(t instanceof Uint8Array)?typeof t=="string"?F.decode(t):Uint8Array.from(t):t.map(e=>this.elementsType.coerce(e))}toString(){return`SColl[${this.elementsType.toString()}]`}},je=class extends Mn{get code(){return _.tuple.code}coerce(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=this.elementsType[n].coerce(t[n]);return e}toString(){return`(${this.elementsType.map(t=>t.toString()).join(", ")})`}};function be(t,e,n){return new Proxy(t,{apply:(s,r,o)=>{const i=e??new s;return!n&&ie(o)?i:new Ke(i,...o)}})}function es(t,e){return new Proxy(t,{apply:e})}var it=be(Fn,_.byte);be(jn,_.bool);be(Gn,_.short);be(Kn,_.int);var Nr=be(Qn,_.long);be(Wn,_.bigInt);var Kt=be(Xn,_.groupElement),Qt=be(qn,_.sigmaProp);be(Jn,void 0,!0);var ot=es(rt,(t,e,n)=>{const[s,r]=n,o=s();return r?new Ke(new t(o),r):()=>new t(o)});es(je,(t,e,n)=>{const[s,r]=n;if(typeof s=="function"&&typeof r=="function")return()=>new t([s(),r()]);if(s instanceof Ke&&r instanceof Ke)return new Ke(new t([s.type,r.type]),[s.data,r.data]);throw new Error("Invalid tuple declaration.")});var zr=33,Wt=205,Xt=class lt{static serialize(e,n,s){if(n.embeddable)switch(n.code){case _.bool.code:return s.writeBoolean(e);case _.byte.code:return s.write(e);case _.short.code:return s.writeShort(e);case _.int.code:return s.writeInt(e);case _.long.code:return s.writeLong(e);case _.bigInt.code:return s.writeBigInt(e);case _.groupElement.code:return s.writeBytes(e);case _.sigmaProp.code:{const r=e;if(r.type===_.groupElement)return s.write(Wt),lt.serialize(r.data,r.type,s);throw Error("Serialization error: SigmaProp operation not implemented.")}}else if(Et(n)){if(n.elementsType.code===_.byte.code){const r=e instanceof Uint8Array;ue(r,`SColl[Byte] expected an UInt8Array, got ${typeof e}.`)}else ue(Array.isArray(e),`SColl expected an array, got ${typeof e}.`);switch(s.writeVLQ(e.length),n.elementsType.code){case _.bool.code:return s.writeBits(e);case _.byte.code:return s.writeBytes(e);default:{for(let r=0;r<e.length;r++)lt.serialize(e[r],n.elementsType,s);return s}}}else if(Zn(n)){ue(Array.isArray(e),`STupleType serialization expected an array, got ${typeof e}.`);const r=n.elementsType.length;for(let o=0;o<r;o++)lt.serialize(e[o],n.elementsType[o],s);return s}else if(n.code===_.unit.code)return s;throw Error(`Serialization error: '0x${n.code.toString(16)}' type not implemented.`)}static deserialize(e,n){if(e.embeddable)switch(e.code){case _.bool.code:return n.readBoolean();case _.byte.code:return n.readByte();case _.short.code:return n.readShort();case _.int.code:return n.readInt();case _.long.code:return n.readLong();case _.bigInt.code:return n.readBigInt();case _.groupElement.code:return n.readBytes(zr);case _.sigmaProp.code:{if(n.readByte()===Wt)return this.deserialize(_.groupElement,n);break}}else switch(e.code){case _.coll.code:{const s=n.readVlq(),r=e.elementsType;switch(r.code){case _.bool.code:return n.readBits(s);case _.byte.code:return n.readBytes(s);default:{const o=new Array(s);for(let i=0;i<s;i++)o[i]=this.deserialize(r,n);return o}}}case _.tuple.code:return e.elementsType.map(s=>this.deserialize(s,n));case _.unit.code:return}throw new Error(`Parsing error: '0x${e.code.toString(16)}' type not implemented.`)}},qt=class{static serialize(t,e){if(t.embeddable)e.write(t.code);else if(t.code===_.unit.code)e.write(t.code);else if(Et(t))if(t.elementsType.embeddable)e.write(_.coll.simpleCollTypeCode+t.elementsType.code);else if(Et(t.elementsType)){const n=t.elementsType;n.elementsType.embeddable?e.write(_.coll.nestedCollTypeCode+n.elementsType.code):(e.write(_.coll.simpleCollTypeCode),this.serialize(n,e))}else e.write(_.coll.simpleCollTypeCode),this.serialize(t.elementsType,e);else if(Zn(t)){switch(t.elementsType.length){case 2:{const n=de(t.elementsType),s=ws(t.elementsType);n.embeddable?n.code===s.code?e.write(_.tuple.symmetricPairTypeCode+n.code):(e.write(_.tuple.pairOneTypeCode+n.code),this.serialize(s,e)):s.embeddable?(e.write(_.tuple.pairTwoTypeCode+s.code),this.serialize(n,e)):(e.write(_.tuple.pairOneTypeCode),this.serialize(n,e),this.serialize(s,e));return}case 3:e.write(_.tuple.tripleTypeCode);break;case 4:e.write(_.tuple.quadrupleTypeCode);break;default:{const n=t.elementsType.length;ue(n>=2&&n<=255,"Invalid type: tuples must have between 2 and 255 items."),e.write(_.tuple.genericTupleTypeCode),e.writeVLQ(n)}}for(let n=0;n<t.elementsType.length;n++)this.serialize(t.elementsType[n],e)}else throw new Error("Serialization error: type not implemented.")}static deserialize(t){const e=t.readByte();if(ue(e>0,`Parsing Error: Unexpected type code '0x${e.toString(16)}'`),e<_.tuple.genericTupleTypeCode){const n=Math.floor(e/xt),s=Math.floor(e%xt);switch(n){case Q.embeddable:return Te(s);case Q.simpleColl:{const r=s===0?this.deserialize(t):Te(s);return new rt(r)}case Q.nestedColl:return new rt(new rt(Te(s)));case Q.pairOne:{const r=s===0?[this.deserialize(t),this.deserialize(t)]:[Te(s),this.deserialize(t)];return new je(r)}case Q.pairTwo:{const r=s===0?[this.deserialize(t),this.deserialize(t),this.deserialize(t)]:[this.deserialize(t),Te(s)];return new je(r)}case Q.symmetricPair:{const r=s===0?[this.deserialize(t),this.deserialize(t),this.deserialize(t),this.deserialize(t)]:[Te(s),Te(s)];return new je(r)}}}else switch(e){case _.tuple.genericTupleTypeCode:{const n=t.readVlq(),s=new Array(n);for(let r=0;r<n;r++)s[r]=this.deserialize(t);return new je(s)}case _.unit.code:return _.unit}throw new Error("Not implemented.")}},Mr=4096,We,Xe,qe,Ke=(qe=class{constructor(e,n){ye(this,We,void 0);ye(this,Xe,void 0);ee(this,We,e),ee(this,Xe,e.coerce(n))}static from(e){ue(e.length>0,"Empty constant bytes.");const n=new Vr(e),s=qt.deserialize(n),r=Xt.deserialize(s,n);return new qe(s,r)}get type(){return $(this,We)}get data(){return $(this,Xe)}toBytes(){const e=new Ot(Mr);return qt.serialize(this.type,e),Xt.serialize(this.data,this.type,e),e.toBytes()}toHex(){return F.encode(this.toBytes())}},We=new WeakMap,Xe=new WeakMap,qe),jr=65535;function ts(t,e,n){if(e||(e=new Ot(5e4)),e.writeBigVLQ(G(t.value)),e.writeHex(t.ergoTree),e.writeVLQ(t.creationHeight),Fr(e,t.assets,n),Gr(e,t.additionalRegisters),H(n))return e;if(!ns(t))throw new Error("Invalid box type.");return e.writeHex(t.transactionId).writeVLQ(t.index)}function ns(t){const e=t;return H(e.transactionId)&&H(e.index)}function Fr(t,e,n){if(ie(e)){t.write(0);return}t.writeVLQ(e.length),K(n)?e.map(s=>t.writeVLQ(n.indexOf(s.tokenId)).writeBigVLQ(G(s.amount))):e.map(s=>t.writeHex(s.tokenId).writeBigVLQ(G(s.amount)))}function Gr(t,e){const n=Object.keys(e).sort();let s=0;for(const r of n)e[r]&&s++;if(t.writeVLQ(s),s!=0)for(const r of n){const o=e[r];H(o)&&t.writeHex(o)}}function Kr(t,e){if(W(t.creationHeight))throw new Error("Box size estimation error: creation height is undefined.");let n=0;n+=X(H(e)?e:t.value),n+=Fe(t.ergoTree),n+=X(t.creationHeight),n+=X(t.assets.length),n+=t.assets.reduce((r,o)=>r+=Fe(o.tokenId)+X(o.amount),0);let s=0;for(const r in t.additionalRegisters){const o=t.additionalRegisters[r];o&&(n+=Fe(o),s++)}return n+=X(s),n+=32,n+=X(ns(t)?t.index:jr),n}function Qr(t){const e=new Ot(1e5);e.writeVLQ(t.inputs.length),t.inputs.map(s=>Wr(e,s)),e.writeVLQ(t.dataInputs.length),t.dataInputs.map(s=>e.writeHex(s.boxId));const n=qr(t.outputs);return e.writeVLQ(n.length),n.map(s=>e.writeHex(s)),e.writeVLQ(t.outputs.length),t.outputs.map(s=>ts(s,e,n)),e}function Wr(t,e){t.writeHex(e.boxId),t.write(0),Xr(t,e.extension)}function Xr(t,e){const n=Object.keys(e);let s=0;for(const r of n){const o=e[r];H(o)&&s++}if(t.writeVLQ(s),s!=0)for(const r of n){const o=e[r];H(o)&&t.writeVLQ(Number(r)).writeHex(o)}}function qr(t){const e=new Set;return t.flatMap(n=>n.assets.map(s=>e.add(s.tokenId))),Array.from(e)}var Jr=class extends Error{constructor(){super("One or more inputs was selected more than one time by the current selection strategy.")}},Yr=class extends Error{constructor(e){const n=[];if(e.nanoErgs&&n.push(Jt("nanoErgs",e.nanoErgs)),K(e.tokens))for(const s of e.tokens)n.push(Jt(s.tokenId,s.amount));super(`Insufficient inputs:${n.join()}`);w(this,"unreached");this.unreached=e}};function Jt(t,e){return`
  > ${t}: ${e==null?void 0:e.toString()}`}var Zr=class{constructor(){w(this,"_inputs")}select(t,e){this._inputs=t;let n=[];K(e.tokens)&&(n=this._selectTokens(e.tokens));const s=It(n,r=>r.value);if(W(e.nanoErgs)&&ie(e.tokens)||H(e.nanoErgs)&&s<e.nanoErgs){const r=H(e.nanoErgs)?e.nanoErgs-s:void 0;n=n.concat(this._select(r))}return n}_selectTokens(t){let e=[];for(const n of t){const s=H(n.amount)?n.amount-me(e,n.tokenId):void 0;s&&s<=O||(e=e.concat(this._select(s,n.tokenId)))}return e}_select(t,e){const n=this._inputs;let s=O,r=[];if(W(t))e?r=n.filter(o=>o.assets.some(i=>i.tokenId===e)):r=n;else for(let o=0;o<n.length&&s<t;o++)if(e)for(const i of n[o].assets)i.tokenId===e&&(s+=i.amount,r.push(n[o]));else s+=n[o].value,r.push(n[o]);return K(r)&&(this._inputs=this._inputs.filter(o=>!r.includes(o))),r}},ei=class{constructor(t){w(this,"_selector");this._selector=t}select(t,e){return this._selector(t,e)}},ti=class{constructor(t){w(this,"_inputs");w(this,"_strategy");w(this,"_ensureFilterPredicate");w(this,"_selector");w(this,"_sortDirection");w(this,"_ensureInclusionBoxIds");this._inputs=t}defineStrategy(t){return this._isISelectionStrategyImplementation(t)?this._strategy=t:this._strategy=new ei(t),this}select(t){this._strategy||(this._strategy=new Zr);const e=this._deepCloneTarget(t);let n=[...this._inputs],s=[];const r=this._ensureFilterPredicate,o=this._ensureInclusionBoxIds;if(r?o?s=n.filter(l=>r(l)||o.has(l.boxId)):s=n.filter(r):o&&(s=n.filter(l=>o.has(l.boxId))),K(s)&&(n=n.filter(l=>!s.some(a=>a.boxId===l.boxId)),e.nanoErgs&&e.nanoErgs>O&&(e.nanoErgs-=It(s,l=>l.value)),K(e.tokens)&&s.some(l=>!ie(l.assets))))for(const l of e.tokens)l.amount&&l.amount>O&&(l.amount-=me(s,l.tokenId));if(this._selector&&(n=xs(n,this._selector,this._sortDirection||"asc")),s=s.concat(this._strategy.select(n,e)),Is(s,l=>l.boxId))throw new Jr;const i=this._getUnreachedTargets(s,t);if(i.nanoErgs||K(i.tokens))throw new Yr(i);return s}_deepCloneTarget(t){return{nanoErgs:t.nanoErgs,tokens:t.tokens?t.tokens.map(e=>({tokenId:e.tokenId,amount:e.amount})):void 0}}_getUnreachedTargets(t,e){const n={nanoErgs:void 0,tokens:void 0},s=It(t,r=>r.value);if(e.nanoErgs&&e.nanoErgs>s&&(n.nanoErgs=e.nanoErgs-s),ie(e.tokens))return n;for(const r of e.tokens){const o=me(t,r.tokenId);if(r.amount&&r.amount>o){if(r.tokenId===de(t).boxId)continue;W(n.tokens)&&(n.tokens=[]),n.tokens.push({tokenId:r.tokenId,amount:r.amount-o})}}return n}ensureInclusion(t){if(typeof t=="function")this._ensureFilterPredicate=t;else if(t==="all")this._ensureFilterPredicate=e=>e.value>0n;else if(W(this._ensureInclusionBoxIds)&&(this._ensureInclusionBoxIds=new Set),Array.isArray(t))for(const e of t)this._ensureInclusionBoxIds.add(e);else this._ensureInclusionBoxIds.add(t);return this}orderBy(t,e){return this._selector=t,this._sortDirection=e,this}_isISelectionStrategyImplementation(t){return!!t.select}static buildTargetFrom(t){const e={};let n=O;for(const s of t){n+=G(s.value);for(const r of s.assets)e[r.tokenId]=(e[r.tokenId]||O)+G(r.amount)}return{nanoErgs:n,tokens:Object.keys(e).map(s=>({tokenId:s,amount:e[s]}))}}},ni=class extends Error{constructor(){super("Registers should be densely packed. This means that it's not possible to use a register like 'R7' without filling 'R6', 'R5' and 'R4', for example.")}},si=class extends Error{constructor(){super("Minting context is undefined. Transaction's inputs must be included in order to determine minting token id.")}},ri=class extends Error{constructor(){super("Creation Height is undefined.")}},ii=class extends Error{constructor(t){super(`Invalid Ergo address: ${t}`)}},Be=4,oi=32,Tt=F.decode("0008cd"),li=36,ss=F.decode("d40801"),at=F.decode("00ea02d193b4cbe4e3010e040004300e18"),ai=44,tt=24;function Yt(t){return de(t)&240}function wt(t){return de(t)&15}function Zt(t){return typeof t=="string"?F.decode(t):t}function ci(t){return t.length===li&&zt(t,Tt)?te.P2PK:t.length===ai&&zt(t,at)&&Ts(t,ss)?te.P2SH:te.P2S}function en(t){return ie(t)||t.length!==33?!1:t[0]===2||t[0]===3}var fe=class Re{constructor(e,n){w(this,"_ergoTree");w(this,"_network");w(this,"_type");this._ergoTree=e,this._network=n,this._type=ci(e)}get network(){return this._network}get ergoTree(){return F.encode(this._ergoTree)}get type(){return this._type}static fromErgoTree(e,n){return new Re(F.decode(e),n)}static fromPublicKey(e,n){const s=Zt(e);if(!en(s))throw new Error("The Public Key is invalid.");const r=Ze(Tt,s);return new Re(r,n)}static fromHash(e,n){if(e=Zt(e),e.length===oi)e=e.subarray(0,tt);else if(e.length!=tt)throw Error(`Invalid hash length: ${e.length}`);const s=Ze(at,e,ss);return new Re(s,n)}static fromBase58(e,n=!1){const s=Me.decode(e);if(!n&&!Re.validate(s))throw new ii(e);const r=Yt(s),o=wt(s),i=s.subarray(1,s.length-Be);return o===te.P2PK?this.fromPublicKey(i,r):o===te.P2SH?this.fromHash(i,r):new Re(i,r)}static validate(e){const n=typeof e=="string"?Me.decode(e):e;if(n.length<Be)return!1;if(wt(n)===te.P2PK){const l=n.subarray(1,n.length-Be);if(!en(l))return!1}const s=n.subarray(0,n.length-Be),r=n.subarray(n.length-Be,n.length),i=Ge(s).subarray(0,Be);return Es(i,r)}static getNetworkType(e){return Yt(Me.decode(e))}static getAddressType(e){return wt(Me.decode(e))}getPublicKeys(){return this.type===te.P2PK?[this._ergoTree.subarray(Tt.length)]:[]}toP2SH(e){if(this.type===te.P2SH)return this.encode();const n=Ge(this._ergoTree).subarray(0,tt);return this._encode(n,te.P2SH,e)}encode(e){let n;return this.type===te.P2PK?n=de(this.getPublicKeys()):this.type===te.P2SH?n=this._ergoTree.subarray(at.length,at.length+tt):n=this._ergoTree,this._encode(n,this.type,e)}_encode(e,n,s){H(s)||(H(this.network)?s=this.network:s=gt.Mainnet);const r=Uint8Array.from([s+n]);e=Ze(r,e);const o=Ge(e).subarray(0,Be);return Me.encode(Ze(e,o))}toString(e){return this.encode(e)}},ui=class rs{constructor(e){w(this,"boxId");w(this,"value");w(this,"ergoTree");w(this,"creationHeight");w(this,"assets");w(this,"additionalRegisters");w(this,"transactionId");w(this,"index");this.boxId=e.boxId,this.ergoTree=e.ergoTree,this.creationHeight=e.creationHeight,this.value=G(e.value),this.assets=e.assets.map(n=>({tokenId:n.tokenId,amount:G(n.amount)})),this.additionalRegisters=e.additionalRegisters,this.transactionId=e.transactionId,this.index=e.index}isValid(){return rs.validate(this)}static validate(e){const n=ts(e).toBytes(),s=F.encode(Ge(n));return e.boxId===s}},tn=class extends ui{constructor(e){super(e);w(this,"_extension");e.extension&&this.setContextVars(e.extension)}get extension(){return this._extension}setContextVars(e){return this._extension=e,this}toUnsignedInputObject(e){return{...this.toPlainObject(e),extension:this._extension||{}}}toPlainObject(e){return e==="EIP-12"?{boxId:this.boxId,value:this.value.toString(),ergoTree:this.ergoTree,creationHeight:this.creationHeight,assets:this.assets.map(n=>({tokenId:n.tokenId,amount:n.amount.toString()})),additionalRegisters:this.additionalRegisters,transactionId:this.transactionId,index:this.index}:{boxId:this.boxId}}},hi=class{constructor(t,e,n){w(this,"_inputs");w(this,"_dataInputs");w(this,"_outputs");this._inputs=Object.freeze(t),this._dataInputs=Object.freeze(e),this._outputs=Object.freeze(n)}get id(){return F.encode(Ge(this.toBytes()))}get inputs(){return this._inputs}get dataInputs(){return this._dataInputs}get outputs(){return this._outputs}get burning(){return st(me(this.inputs),me(this.outputs))}toPlainObject(t){return{inputs:this.inputs.map(e=>e.toUnsignedInputObject(t||"default")),dataInputs:this.dataInputs.map(e=>e.toPlainObject(t||"default")),outputs:this.outputs.map(e=>di(e))}}toEIP12Object(){return this.toPlainObject("EIP-12")}toBytes(){return Qr({inputs:this.inputs.map(t=>t.toUnsignedInputObject("default")),dataInputs:this.dataInputs.map(t=>t.toPlainObject("default")),outputs:this.outputs}).toBytes()}};function di(t){return{...t,value:t.value.toString(),assets:t.assets.map(e=>({tokenId:e.tokenId,amount:e.amount.toString()}))}}var fi=class extends Error{constructor(t){super(`Box '${t}' is already included.`)}},gi=class extends Error{constructor(t){super(t)}},pi=class extends Error{constructor(t){super(`Invalid input: ${t}`)}},nn=class extends Error{constructor(t){super(`Malformed transaction: ${t}`)}},_i=class extends Error{constructor(){super(`A box must contain no more than ${Pt} distinct tokens.`)}},is=class extends Error{constructor(){super("This transaction is trying to burn tokens. If that's your intention you must explicitly allow token burning on TransactionBuilder.configure() method. If no, a change address should be provided.")}},Ht=class extends Error{constructor(t){super(t)}},Pt=120,Bt=class extends Ct{constructor(t,e){super(),H(t)&&this.add(t,e)}_map(t){return{tokenId:t.tokenId,amount:G(t.amount)}}_addOne(t,e){if((W(e)||e.sum&&!H(e.index))&&this._sum(this._map(t)))return this.length;if(this._items.length>=Pt)throw new _i;return super._addOne(t,e),this.length}add(t,e){return super.add(t,e)}_sum(t){for(const e of this._items)if(e.tokenId===t.tokenId)return e.amount+=t.amount,!0;return!1}remove(t,e){let n=-1;if(typeof t=="number"){if(this._isIndexOutOfBounds(t))throw new RangeError(`Index '${t}' is out of range.`);n=t}else if(n=this._items.findIndex(s=>s.tokenId===t),this._isIndexOutOfBounds(n))throw new Ht(`TokenId '${t}' not found in assets collection.`);if(e&&n>-1){const s=G(e),r=this._items[n];if(s>r.amount)throw new gi("Insufficient token amount to perform a subtraction operation.");if(s<r.amount)return r.amount-=s,this.length}return this._items.splice(n,1),this.length}contains(t){return this._items.some(e=>e.tokenId===t)}},sn=class extends Ct{constructor(t){super(),H(t)&&this.add(t)}_map(t){return t instanceof tn?t:new tn(t)}_addOne(t){if(this._items.some(e=>e.boxId===t.boxId))throw new fi(t.boxId);return super._addOne(t)}remove(t){let e=-1;if(typeof t=="number"){if(this._isIndexOutOfBounds(t))throw new RangeError(`Index '${t}' is out of range.`);e=t}else if(e=this._items.findIndex(n=>n.boxId===t),this._isIndexOutOfBounds(e))throw new Ht("The input you are trying to remove is not present in the inputs collection.");return this._items.splice(e,1),this.length}},mi=class os extends Ct{constructor(e){super(),H(e)&&this.add(e)}_map(e){return e}remove(e){let n=-1;if(typeof e=="number"){if(this._isIndexOutOfBounds(e))throw new RangeError(`Index '${e}' is out of range.`);n=e}else if(n=this._items.lastIndexOf(e),this._isIndexOutOfBounds(n))throw new Ht("The output you are trying to remove is not present in the outputs collection.");return this._items.splice(n,1),this.length}clone(){return new os(this._items)}sum(e){const n={};let s=O;if(e&&(e.nanoErgs&&(s=e.nanoErgs),K(e.tokens)))for(const r of e.tokens)W(r.amount)||(n[r.tokenId]=(n[r.tokenId]||O)+r.amount);for(const r of this._items){s+=r.value;for(const o of r.assets)n[o.tokenId]=(n[o.tokenId]||O)+o.amount}return{nanoErgs:s,tokens:Object.keys(n).map(r=>({tokenId:r,amount:n[r]}))}}},bi=7,yi=class{constructor(t){w(this,"_bytes");typeof t=="string"?this._bytes=F.decode(t):this._bytes=t}get header(){return this._bytes[0]}get version(){return this.header&bi}get hasSegregatedConstants(){return(this.header&jt.constantSegregation)!=0}get hasSize(){return(this.header&jt.sizeInclusion)!=0}toBytes(){return this._bytes}toHex(){return F.encode(this.toBytes())}toAddress(t=gt.Mainnet){return fe.fromErgoTree(this.toHex(),t)}},ls=BigInt(360),$t=BigInt(1e6);function wi(t=ls){return e=>BigInt(e.estimateSize())*t}var Ae=class{constructor(t,e,n){w(this,"_address");w(this,"_tokens");w(this,"_value");w(this,"_valueEstimator");w(this,"_creationHeight");w(this,"_registers");w(this,"_minting");this.setValue(t),this._creationHeight=n,this._tokens=new Bt,this._registers={},typeof e=="string"?this._address=Hn(e)?fe.fromErgoTree(e):fe.fromBase58(e):e instanceof yi?this._address=e.toAddress():this._address=e}get value(){return H(this._valueEstimator)?this._valueEstimator(this):this._value}get address(){return this._address}get ergoTree(){return this._address.ergoTree}get creationHeight(){return this._creationHeight}get assets(){return this._tokens}get additionalRegisters(){return this._registers}get minting(){return this._minting}setValue(t){if(typeof t=="function")this._valueEstimator=t;else if(this._value=G(t),this._valueEstimator=void 0,this._value<=O)throw new Error("An UTxO cannot be created without a minimum required amount.");return this}addTokens(t,e){return t instanceof Bt?this._tokens.add(t.toArray(),e):this._tokens.add(t,e),this}addNfts(...t){const e=t.map(n=>({tokenId:n,amount:ht}));return this.addTokens(e)}mintToken(t){return this._minting={...t,amount:G(t.amount)},this}setCreationHeight(t,e){return(W(e)||e.replace===!0||e.replace===!1&&W(this._creationHeight))&&(this._creationHeight=t),this}setAdditionalRegisters(t){if(this._registers=Cs(t),!As(t))throw new ni;return this}eject(t){return t({tokens:this._tokens}),this}build(t){var n;let e=this.assets.toArray();if(this.minting){if(ie(t))throw new ri;ie(this.additionalRegisters)&&this.setAdditionalRegisters({R4:ot(it,bt.decode(this.minting.name||"")).toHex(),R5:ot(it,bt.decode(this.minting.description||"")).toHex(),R6:ot(it,bt.decode(((n=this.minting.decimals)==null?void 0:n.toString())||"0")).toHex()}),e=[{tokenId:de(t).boxId,amount:this.minting.amount},...e]}if(W(this.creationHeight))throw new si;return{value:this.value,ergoTree:this.ergoTree,creationHeight:this.creationHeight,assets:e.map(s=>({tokenId:s.tokenId,amount:s.amount})),additionalRegisters:this.additionalRegisters}}estimateSize(t=$t){ue(!!this.creationHeight,"Creation height must be set");const e=this._tokens.toArray();this.minting&&e.push({tokenId:"0000000000000000000000000000000000000000000000000000000000000000",amount:this.minting.amount});const n={value:t,ergoTree:this.ergoTree,creationHeight:this.creationHeight,assets:e.map(s=>({tokenId:s.tokenId,amount:s.amount})),additionalRegisters:this.additionalRegisters};return Kr(n)}},vi=class extends Error{constructor(t){super(t)}};function Ii(t){return{addInputs:e=>t.from(e).configureSelector(n=>n.ensureInclusion(Array.isArray(e)?e.map(s=>s.boxId):e.boxId)).inputs.length,addOutputs:(e,n)=>t.to(e,n).outputs.length,addDataInputs:(e,n)=>t.withDataFrom(e,n).dataInputs.length,burnTokens:e=>{if(!t.settings.canBurnTokensFromPlugins)throw new is;t.burnTokens(e)},setFee:e=>t.payFee(e)}}var ki=class{constructor(){w(this,"_maxDistinctTokensPerChangeBox");w(this,"_allowTokenBurning");w(this,"_allowTokenBurningFromPlugins");w(this,"_isolateErgOnChange");this._maxDistinctTokensPerChangeBox=Pt,this._allowTokenBurning=!1,this._allowTokenBurningFromPlugins=!1,this._isolateErgOnChange=!1}get maxTokensPerChangeBox(){return this._maxDistinctTokensPerChangeBox}get canBurnTokens(){return this._allowTokenBurning}get canBurnTokensFromPlugins(){return this.canBurnTokens||this._allowTokenBurningFromPlugins}get shouldIsolateErgOnChange(){return this._isolateErgOnChange}setMaxTokensPerChangeBox(t){return this._maxDistinctTokensPerChangeBox=t,this}allowTokenBurning(t=!0){return this._allowTokenBurning=t,this}allowTokenBurningFromPlugins(t=!0){return this._allowTokenBurningFromPlugins=t,this}isolateErgOnChange(t=!0){return this._isolateErgOnChange=t,this}},Lt=BigInt(11e5),xi="1005040004000e36100204a00b08cd0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798ea02d192a39a8cc7a701730073011001020402d19683030193a38cc7b2a57300000193c2b2a57301007473027303830108cdeeac93b1a57304",as=class{constructor(t){w(this,"_inputs");w(this,"_dataInputs");w(this,"_outputs");w(this,"_settings");w(this,"_creationHeight");w(this,"_selectorCallbacks");w(this,"_changeAddress");w(this,"_feeAmount");w(this,"_burning");w(this,"_plugins");this._inputs=new sn,this._dataInputs=new sn,this._outputs=new mi,this._settings=new ki,this._creationHeight=t}get inputs(){return this._inputs}get dataInputs(){return this._dataInputs}get outputs(){return this._outputs}get changeAddress(){return this._changeAddress}get fee(){return this._feeAmount}get burning(){return this._burning}get settings(){return this._settings}get creationHeight(){return this._creationHeight}get and(){return this}from(t){return Ei(t)&&(t=t.toArray()),this._inputs.add(t),this}to(t,e){return this._outputs.add(t,e),this}withDataFrom(t,e){return this._dataInputs.add(t,e),this}sendChangeTo(t){return typeof t=="string"?this._changeAddress=Hn(t)?fe.fromErgoTree(t,gt.Mainnet):fe.fromBase58(t):this._changeAddress=t,this}payFee(t){return this._feeAmount=G(t),this}payMinFee(){return this.payFee(Lt),this}burnTokens(t){return this._burning||(this._burning=new Bt),this._burning.add(t),this}configure(t){return t(this._settings),this}configureSelector(t){return W(this._selectorCallbacks)&&(this._selectorCallbacks=[]),this._selectorCallbacks.push(t),this}extend(t){return this._plugins||(this._plugins=[]),this._plugins.push({execute:t,pending:!0}),this}eject(t){return t({inputs:this.inputs,dataInputs:this.dataInputs,outputs:this.outputs,burning:this.burning,settings:this.settings,selection:e=>{this.configureSelector(e)}}),this}build(){if(K(this._plugins)){const i=Ii(this);for(const l of this._plugins)l.pending&&(l.execute(i),l.pending=!1)}if(this._isMinting()){if(this._isMoreThanOneTokenBeingMinted())throw new nn("only one token can be minted per transaction.");if(this._isTheSameTokenBeingMintedOutsideTheMintingBox())throw new vi("EIP-4 tokens cannot be minted from outside of the minting box.")}this.outputs.toArray().map(i=>i.setCreationHeight(this._creationHeight,{replace:!1}));const t=this.outputs.clone();H(this._feeAmount)&&t.add(new Ae(this._feeAmount,xi));const e=new ti(this.inputs.toArray());if(K(this._selectorCallbacks))for(const i of this._selectorCallbacks)i(e);const n=K(this._burning)?t.sum({tokens:this._burning.toArray()}):t.sum();let s=e.select(n);if(H(this._changeAddress)){let i=st(me(s),n);const l=[];if(K(i.tokens)){let a=rn({changeAddress:this._changeAddress,creationHeight:this._creationHeight,tokens:i.tokens,maxTokensPerBox:this.settings.maxTokensPerChangeBox,baseIndex:this.outputs.length+1});for(;a>i.nanoErgs;)s=e.select({nanoErgs:n.nanoErgs+a,tokens:n.tokens}),i=st(me(s),n),a=rn({changeAddress:this._changeAddress,creationHeight:this._creationHeight,tokens:i.tokens,maxTokensPerBox:this.settings.maxTokensPerChangeBox,baseIndex:this.outputs.length+1});const c=ks(i.tokens,this._settings.maxTokensPerChangeBox);for(const u of c){const h=new Ae(wi(),this._changeAddress,this._creationHeight).addTokens(u);i.nanoErgs-=h.value,l.push(h)}}if(i.nanoErgs>O)if(K(l)){if(this.settings.shouldIsolateErgOnChange)t.add(new Ae(i.nanoErgs,this._changeAddress));else{const a=de(l);a.setValue(a.value+i.nanoErgs)}t.add(l)}else t.add(new Ae(i.nanoErgs,this._changeAddress))}for(const i of s)if(!i.isValid())throw new pi(i.boxId);const r=new hi(s,this.dataInputs.toArray(),t.toArray().map(i=>i.setCreationHeight(this._creationHeight,{replace:!1}).build(s)));let o=r.burning;if(o.nanoErgs>O)throw new nn("it's not possible to burn ERG.");if(K(o.tokens)&&K(this._burning)&&(o=st(o,{nanoErgs:O,tokens:this._burning.toArray()})),!this._settings.canBurnTokens&&K(o.tokens))throw new is;return r}_isMinting(){for(const t of this._outputs)if(t.minting)return!0;return!1}_isMoreThanOneTokenBeingMinted(){let t=0;for(const e of this._outputs)if(H(e.minting)&&(t++,t>1))return!0;return!1}_isTheSameTokenBeingMintedOutsideTheMintingBox(){const t=this._getMintingTokenId();if(W(t))return!1;for(const e of this._outputs)if(e.assets.contains(t))return!0;return!1}_getMintingTokenId(){let t;for(const e of this._outputs)if(e.minting){t=e.minting.tokenId;break}return t}};function Ei(t){return t.toArray!==void 0}function rn(t){return BigInt(Ti(t))*ls}function Ti({changeAddress:t,creationHeight:e,tokens:n,baseIndex:s,maxTokensPerBox:r}){const o=Math.ceil(n.length/r);let i=0;i+=X($t),i+=Fe(t.ergoTree),i+=X(e),i+=X(0),i+=32,i=i*o;for(let l=0;l<o;l++)i+=X(s+l);return i+=n.reduce((l,a)=>l+=Fe(a.tokenId)+X(a.amount),0),n.length>r?n.length%r>0?(i+=X(r)*Math.floor(n.length/r),i+=X(n.length%r)):i+=X(r)*o:i+=X(n.length),i}function Bi(t,e,n,s,r,o,i){const l=fe.fromBase58(e),a=fe.fromBase58(r),c=new Ae($t,t).addTokens(o).setAdditionalRegisters({R4:Nr(i).toHex(),R5:Qt(Kt(de(l.getPublicKeys()))).toHex(),R6:Qt(Kt(de(a.getPublicKeys()))).toHex()});return new as(s).from(n).to(c).sendChangeTo(l).payFee(Lt).build().toEIP12Object()}function on(t,e,n){const s=t.slice();return s[18]=e[n],s}function ln(t,e,n){const s=t.slice();return s[18]=e[n],s[21]=e,s[22]=n,s}function an(t){let e,n,s=t[18].tokenId.substr(0,3)+"",r,o,i=t[18].tokenId.substr(t[18].tokenId.length-3,t[18].tokenId.length-1)+"",l,a,c,u,h,p,d="remove",g,f,y;function S(){t[9].call(u,t[21],t[22])}function I(){return t[10](t[18])}return{c(){e=T("div"),n=T("div"),r=D(s),o=D("..."),l=D(i),a=M(),c=T("div"),u=T("input"),h=M(),p=T("button"),p.textContent=d,g=M(),this.h()},l(x){e=B(x,"DIV",{class:!0});var L=C(e);n=B(L,"DIV",{class:!0});var k=C(n);r=N(k,s),o=N(k,"..."),l=N(k,i),k.forEach(v),a=j(L),c=B(L,"DIV",{});var P=C(c);u=B(P,"INPUT",{class:!0,type:!0,min:!0}),P.forEach(v),h=j(L),p=B(L,"BUTTON",{"data-svelte-h":!0}),Je(p)!=="svelte-1exm36t"&&(p.textContent=d),g=j(L),L.forEach(v),this.h()},h(){E(n,"class","font-mono"),E(u,"class","p-2 py-1"),E(u,"type","number"),E(u,"min","1"),E(e,"class","w-full flex items-center gap-2 px-2 py-1")},m(x,L){J(x,e,L),b(e,n),b(n,r),b(n,o),b(n,l),b(e,a),b(e,c),b(c,u),ct(u,t[18].amount),b(e,h),b(e,p),b(e,g),f||(y=[Ce(u,"input",S),Ce(p,"click",I)],f=!0)},p(x,L){t=x,L&4&&s!==(s=t[18].tokenId.substr(0,3)+"")&&ne(r,s),L&4&&i!==(i=t[18].tokenId.substr(t[18].tokenId.length-3,t[18].tokenId.length-1)+"")&&ne(l,i),L&4&&xn(u.value)!==t[18].amount&&ct(u,t[18].amount)},d(x){x&&v(e),f=!1,kn(y)}}}function Si(t){let e;return{c(){e=D("+")},l(n){e=N(n,"+")},m(n,s){J(n,e,s)},d(n){n&&v(e)}}}function Ai(t){let e;return{c(){e=D("-")},l(n){e=N(n,"-")},m(n,s){J(n,e,s)},d(n){n&&v(e)}}}function cn(t){let e,n=se(t[1]),s=[];for(let r=0;r<n.length;r+=1)s[r]=un(on(t,n,r));return{c(){e=T("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=B(r,"DIV",{class:!0});var o=C(e);for(let i=0;i<s.length;i+=1)s[i].l(o);o.forEach(v),this.h()},h(){E(e,"class","w-full assets mt-4 svelte-ghemqt")},m(r,o){J(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&34){n=se(r[1]);let i;for(i=0;i<n.length;i+=1){const l=on(r,n,i);s[i]?s[i].p(l,o):(s[i]=un(l),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(r){r&&v(e),ze(s,r)}}}function un(t){let e,n,s=t[18].tokenId.substr(0,3)+"",r,o,i=t[18].tokenId.substr(t[18].tokenId.length-3,t[18].tokenId.length-1)+"",l,a,c,u=t[18].amount+"",h,p,d,g;function f(){return t[12](t[18])}return{c(){e=T("button"),n=T("div"),r=D(s),o=D("..."),l=D(i),a=M(),c=T("div"),h=D(u),p=M(),this.h()},l(y){e=B(y,"BUTTON",{class:!0});var S=C(e);n=B(S,"DIV",{class:!0});var I=C(n);r=N(I,s),o=N(I,"..."),l=N(I,i),I.forEach(v),a=j(S),c=B(S,"DIV",{});var x=C(c);h=N(x,u),x.forEach(v),p=j(S),S.forEach(v),this.h()},h(){E(n,"class","font-mono"),E(e,"class","px-2 py-1 w-full flex justify-between gap-2 svelte-ghemqt")},m(y,S){J(y,e,S),b(e,n),b(n,r),b(n,o),b(n,l),b(e,a),b(e,c),b(c,h),b(e,p),d||(g=Ce(e,"click",f),d=!0)},p(y,S){t=y,S&2&&s!==(s=t[18].tokenId.substr(0,3)+"")&&ne(r,s),S&2&&i!==(i=t[18].tokenId.substr(t[18].tokenId.length-3,t[18].tokenId.length-1)+"")&&ne(l,i),S&2&&u!==(u=t[18].amount+"")&&ne(h,u)},d(y){y&&v(e),d=!1,g()}}}function Ci(t){let e,n,s,r,o,i,l,a,c,u,h,p,d,g="sell",f,y,S,I=se(t[2]),x=[];for(let A=0;A<I.length;A+=1)x[A]=an(ln(t,I,A));function L(A,R){return A[0]?Ai:Si}let k=L(t),P=k(t),U=t[0]&&cn(t);return{c(){e=T("div"),n=T("div");for(let A=0;A<x.length;A+=1)x[A].c();s=M(),r=T("div"),o=T("button"),P.c(),i=D(`
			add tokens`),l=M(),a=T("div"),c=T("div"),u=T("input"),h=M(),p=T("div"),d=T("button"),d.textContent=g,f=M(),U&&U.c(),this.h()},l(A){e=B(A,"DIV",{class:!0});var R=C(e);n=B(R,"DIV",{class:!0});var V=C(n);for(let pt=0;pt<x.length;pt+=1)x[pt].l(V);V.forEach(v),s=j(R),r=B(R,"DIV",{class:!0});var oe=C(r);o=B(oe,"BUTTON",{class:!0});var ge=C(o);P.l(ge),i=N(ge,`
			add tokens`),ge.forEach(v),l=j(oe),a=B(oe,"DIV",{class:!0,style:!0});var Ye=C(a);c=B(Ye,"DIV",{});var Rt=C(c);u=B(Rt,"INPUT",{class:!0,type:!0,placeholder:!0}),Rt.forEach(v),h=j(Ye),p=B(Ye,"DIV",{class:!0});var Vt=C(p);d=B(Vt,"BUTTON",{class:!0,"data-svelte-h":!0}),Je(d)!=="svelte-1jkvvon"&&(d.textContent=g),Vt.forEach(v),Ye.forEach(v),oe.forEach(v),f=j(R),U&&U.l(R),R.forEach(v),this.h()},h(){E(n,"class","w-full flex flex-col my-2"),E(o,"class","grow p-4"),E(u,"class","p-2 w-full"),E(u,"type","text"),E(u,"placeholder","Price in ERG"),E(d,"class","btn p-4"),E(p,"class","flex flex-col justify-end"),E(a,"class","flex flex-col gap-2 justify-end"),St(a,"width","180px"),E(r,"class","w-full flex"),E(e,"class","mt-4 p-4 box w-full flex flex-wrap backdrop-blur-md bg-opacity-10 shadow-sm svelte-ghemqt")},m(A,R){J(A,e,R),b(e,n);for(let V=0;V<x.length;V+=1)x[V]&&x[V].m(n,null);b(e,s),b(e,r),b(r,o),P.m(o,null),b(o,i),b(r,l),b(r,a),b(a,c),b(c,u),ct(u,t[3]),b(a,h),b(a,p),b(p,d),b(e,f),U&&U.m(e,null),y||(S=[Ce(o,"click",t[4]),Ce(u,"input",t[11]),Ce(d,"click",t[7])],y=!0)},p(A,[R]){if(R&68){I=se(A[2]);let V;for(V=0;V<I.length;V+=1){const oe=ln(A,I,V);x[V]?x[V].p(oe,R):(x[V]=an(oe),x[V].c(),x[V].m(n,null))}for(;V<x.length;V+=1)x[V].d(1);x.length=I.length}k!==(k=L(A))&&(P.d(1),P=k(A),P&&(P.c(),P.m(o,i))),R&8&&u.value!==A[3]&&ct(u,A[3]),A[0]?U?U.p(A,R):(U=cn(A),U.c(),U.m(e,null)):U&&(U.d(1),U=null)},i:he,o:he,d(A){A&&v(e),ze(x,A),P.d(),U&&U.d(),y=!1,kn(S)}}}function Oi(t,e){return t.some(n=>n.tokenId==e.tokenId)?(t.find(n=>n.tokenId==e.tokenId).amount+=e.amount,t):[...t,e]}function Hi(t,e,n){let s,r,o,i;Se(t,Bn,k=>n(8,s=k)),Se(t,vt,k=>n(13,r=k)),Se(t,Dt,k=>n(14,o=k)),Se(t,Nt,k=>n(15,i=k));let l=!1,a=[],c=[],u;async function h(){var k;if(!s||!((k=window.ergoConnector[s])!=null&&k.isConnected)){ds("Please connect a wallet.",1500);return}n(0,l=!l),l||p(s)}async function p(k){var P;if((P=window.ergoConnector[k])!=null&&P.isConnected){const U=await ergo.get_utxos();Dt.set(JSON.parse(JSON.stringify(U))),Nt.set(U.flatMap(A=>A.assets.map(R=>(R.amount=BigInt(R.amount),R))).reduce(Oi,[])),n(1,a=i.filter(A=>!c.some(R=>R.tokenId==A.tokenId)))}}function d(k){n(1,a=a.filter(P=>P.tokenId!=k.tokenId)),n(2,c=[...c,Object.assign({},k)])}function g(k){n(1,a=[i.find(P=>P.tokenId==k.tokenId),...a]),n(2,c=c.filter(P=>P.tokenId!=k.tokenId))}function f(){n(0,l=!1),n(2,c=[])}async function y(){var oe;if(!s||!((oe=window.ergoConnector[s])!=null&&oe.isConnected)){nt("Connect a wallet.",1500);return}if(c.length<1){nt("Add Tokens.",1500);return}if(u==null){nt("Set a price.",1500);return}const k=await ergo.get_change_address(),P=await ergo.get_current_height(),U=Bi(gs,k,o,P,fs,c,BigInt(u*10**9)),A=await ergo.sign_tx(U),R=await ergo.submit_tx(A),V={tokens:JSON.parse(JSON.stringify(c.map(ge=>({tokenId:ge.tokenId,amount:ge.amount.toString()})))),seller:k,tx:A,transactionId:R,priceInErg:u};vt.update(ge=>(ge.push(V),ge)),localStorage.setItem("ergo_bay_unconfirmed_sales",JSON.stringify(r)),f()}function S(k,P){k[P].amount=xn(this.value),n(2,c)}const I=k=>g(k);function x(){u=this.value,n(3,u)}const L=k=>d(k);return t.$$.update=()=>{t.$$.dirty&256&&p(s)},[l,a,c,u,h,d,g,y,s,S,I,x,L]}class Pi extends Pe{constructor(e){super(),$e(this,e,Hi,Ci,He,{})}}const hn=100n;async function $i(t,e,n,s,r,o,i){const l=fe.fromBase58(e),a=new Ae(r-r/hn,o).setAdditionalRegisters({R4:ot(it,t.boxId).toHex()}),c=new Ae(r/hn,i);return new as(s).configureSelector(h=>h.ensureInclusion(t.boxId)).from([t,...n]).to([a,c]).sendChangeTo(l).payFee(Lt).build().toEIP12Object()}function dn(t,e,n){const s=t.slice();return s[3]=e[n],s}function fn(t){let e,n,s=t[3].tokenId.substr(0,3)+"",r,o,i=t[3].tokenId.substr(t[3].tokenId.length-3,t[3].tokenId.length-1)+"",l,a,c,u=t[3].amount+"",h,p;return{c(){e=T("div"),n=T("div"),r=D(s),o=D("..."),l=D(i),a=M(),c=T("div"),h=D(u),p=M(),this.h()},l(d){e=B(d,"DIV",{class:!0});var g=C(e);n=B(g,"DIV",{class:!0});var f=C(n);r=N(f,s),o=N(f,"..."),l=N(f,i),f.forEach(v),a=j(g),c=B(g,"DIV",{});var y=C(c);h=N(y,u),y.forEach(v),p=j(g),g.forEach(v),this.h()},h(){E(n,"class","font-mono"),E(e,"class","flex gap-2")},m(d,g){J(d,e,g),b(e,n),b(n,r),b(n,o),b(n,l),b(e,a),b(e,c),b(c,h),b(e,p)},p(d,g){g&1&&s!==(s=d[3].tokenId.substr(0,3)+"")&&ne(r,s),g&1&&i!==(i=d[3].tokenId.substr(d[3].tokenId.length-3,d[3].tokenId.length-1)+"")&&ne(l,i),g&1&&u!==(u=d[3].amount+"")&&ne(h,u)},d(d){d&&v(e)}}}function Li(t){let e,n,s,r,o,i=t[0].additionalRegisters.R4.renderedValue/1e9+"",l,a,c,u,h="buy",p,d,g=se(t[0].assets),f=[];for(let y=0;y<g.length;y+=1)f[y]=fn(dn(t,g,y));return{c(){e=T("div"),n=T("div");for(let y=0;y<f.length;y+=1)f[y].c();s=M(),r=T("div"),o=T("div"),l=D(i),a=D(" ERG"),c=M(),u=T("button"),u.textContent=h,this.h()},l(y){e=B(y,"DIV",{class:!0});var S=C(e);n=B(S,"DIV",{class:!0});var I=C(n);for(let k=0;k<f.length;k+=1)f[k].l(I);I.forEach(v),s=j(S),r=B(S,"DIV",{class:!0,style:!0});var x=C(r);o=B(x,"DIV",{class:!0});var L=C(o);l=N(L,i),a=N(L," ERG"),L.forEach(v),c=j(x),u=B(x,"BUTTON",{class:!0,"data-svelte-h":!0}),Je(u)!=="svelte-2qsv9b"&&(u.textContent=h),x.forEach(v),S.forEach(v),this.h()},h(){E(n,"class","grow flex flex-col justify-center"),E(o,"class","p-4 pt-1 text-center"),E(u,"class","btn-secondary p-4"),E(r,"class","flex flex-col justify-end"),St(r,"min-width","180px"),E(e,"class","p-4 box w-full flex flex-wrap backdrop-blur-md bg-opacity-10 shadow-sm svelte-pwleuc")},m(y,S){J(y,e,S),b(e,n);for(let I=0;I<f.length;I+=1)f[I]&&f[I].m(n,null);b(e,s),b(e,r),b(r,o),b(o,l),b(o,a),b(r,c),b(r,u),p||(d=Ce(u,"click",t[1]),p=!0)},p(y,[S]){if(S&1){g=se(y[0].assets);let I;for(I=0;I<g.length;I+=1){const x=dn(y,g,I);f[I]?f[I].p(x,S):(f[I]=fn(x),f[I].c(),f[I].m(n,null))}for(;I<f.length;I+=1)f[I].d(1);f.length=g.length}S&1&&i!==(i=y[0].additionalRegisters.R4.renderedValue/10**9+"")&&ne(l,i)},i:he,o:he,d(y){y&&v(e),ze(f,y),p=!1,d()}}}function Ri(t,e,n){let s;Se(t,Bn,i=>n(2,s=i));let{offer:r}=e;async function o(){var y;if(!s||!((y=window.ergoConnector[s])!=null&&y.isConnected)){nt("Connect a wallet.",1500);return}const i=await ergo.get_change_address(),l=await ergo.get_utxos(),a=await ergo.get_current_height(),c=BigInt(r.additionalRegisters.R4.renderedValue),u=fe.fromPublicKey(r.additionalRegisters.R5.serializedValue.substring(4)).toString(),h=fe.fromPublicKey(r.additionalRegisters.R6.serializedValue.substring(4)).toString();let p=JSON.parse(JSON.stringify(r));for(const[S,I]of Object.entries(p.additionalRegisters))p.additionalRegisters[S]=I.serializedValue;const d=await $i(p,i,l,a,c,u,h),g=await ergo.sign_tx(d),f=await ergo.submit_tx(g);console.log(f)}return t.$$set=i=>{"offer"in i&&n(0,r=i.offer)},[r,o]}class Vi extends Pe{constructor(e){super(),$e(this,e,Ri,Li,He,{offer:0})}}function gn(t,e,n){const s=t.slice();return s[1]=e[n],s}function pn(t){let e,n;return e=new Vi({props:{offer:t[1]}}),{c(){Ve(e.$$.fragment)},l(s){Ue(e.$$.fragment,s)},m(s,r){De(e,s,r),n=!0},p(s,r){const o={};r&1&&(o.offer=s[1]),e.$set(o)},i(s){n||(Z(e.$$.fragment,s),n=!0)},o(s){re(e.$$.fragment,s),n=!1},d(s){Ne(e,s)}}}function Ui(t){let e,n,s=se(t[0]),r=[];for(let i=0;i<s.length;i+=1)r[i]=pn(gn(t,s,i));const o=i=>re(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ut()},l(i){for(let l=0;l<r.length;l+=1)r[l].l(i);e=ut()},m(i,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,l);J(i,e,l),n=!0},p(i,[l]){if(l&1){s=se(i[0]);let a;for(a=0;a<s.length;a+=1){const c=gn(i,s,a);r[a]?(r[a].p(c,l),Z(r[a],1)):(r[a]=pn(c),r[a].c(),Z(r[a],1),r[a].m(e.parentNode,e))}for(En(),a=s.length;a<r.length;a+=1)o(a);Tn()}},i(i){if(!n){for(let l=0;l<s.length;l+=1)Z(r[l]);n=!0}},o(i){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)re(r[l]);n=!1},d(i){i&&v(e),ze(r,i)}}}function Di(t,e,n){let s;return Se(t,ps,r=>n(0,s=r)),[s]}class Ni extends Pe{constructor(e){super(),$e(this,e,Di,Ui,He,{})}}function _n(t,e,n){const s=t.slice();return s[1]=e[n],s}function mn(t){let e,n,s=t[1].tokenId.substr(0,3)+"",r,o,i=t[1].tokenId.substr(t[1].tokenId.length-3,t[1].tokenId.length-1)+"",l,a,c,u=t[1].amount+"",h,p;return{c(){e=T("div"),n=T("div"),r=D(s),o=D("..."),l=D(i),a=M(),c=T("div"),h=D(u),p=M(),this.h()},l(d){e=B(d,"DIV",{class:!0});var g=C(e);n=B(g,"DIV",{class:!0});var f=C(n);r=N(f,s),o=N(f,"..."),l=N(f,i),f.forEach(v),a=j(g),c=B(g,"DIV",{});var y=C(c);h=N(y,u),y.forEach(v),p=j(g),g.forEach(v),this.h()},h(){E(n,"class","font-mono"),E(e,"class","flex gap-2")},m(d,g){J(d,e,g),b(e,n),b(n,r),b(n,o),b(n,l),b(e,a),b(e,c),b(c,h),b(e,p)},p(d,g){g&1&&s!==(s=d[1].tokenId.substr(0,3)+"")&&ne(r,s),g&1&&i!==(i=d[1].tokenId.substr(d[1].tokenId.length-3,d[1].tokenId.length-1)+"")&&ne(l,i),g&1&&u!==(u=d[1].amount+"")&&ne(h,u)},d(d){d&&v(e)}}}function zi(t){let e,n,s,r,o,i="confirming...",l,a,c,u,h=se(t[0].tokens),p=[];for(let d=0;d<h.length;d+=1)p[d]=mn(_n(t,h,d));return{c(){e=T("div"),n=T("div");for(let d=0;d<p.length;d+=1)p[d].c();s=M(),r=T("div"),o=T("div"),o.textContent=i,l=M(),a=T("a"),c=D("Transaction ID"),this.h()},l(d){e=B(d,"DIV",{class:!0});var g=C(e);n=B(g,"DIV",{class:!0});var f=C(n);for(let I=0;I<p.length;I+=1)p[I].l(f);f.forEach(v),s=j(g),r=B(g,"DIV",{class:!0});var y=C(r);o=B(y,"DIV",{"data-svelte-h":!0}),Je(o)!=="svelte-1g0mdkw"&&(o.textContent=i),l=j(y),a=B(y,"A",{target:!0,href:!0,class:!0});var S=C(a);c=N(S,"Transaction ID"),S.forEach(v),y.forEach(v),g.forEach(v),this.h()},h(){E(n,"class","grow flex flex-col justify-center"),E(a,"target","_blank"),E(a,"href",u="https://explorer.ergoplatform.com/en/transactions/"+t[0].transactionId),E(a,"class","underline"),E(r,"class",""),E(e,"class","p-4 box w-full flex flex-wrap backdrop-blur-md bg-opacity-10 shadow-sm svelte-1d6z76h")},m(d,g){J(d,e,g),b(e,n);for(let f=0;f<p.length;f+=1)p[f]&&p[f].m(n,null);b(e,s),b(e,r),b(r,o),b(r,l),b(r,a),b(a,c)},p(d,[g]){if(g&1){h=se(d[0].tokens);let f;for(f=0;f<h.length;f+=1){const y=_n(d,h,f);p[f]?p[f].p(y,g):(p[f]=mn(y),p[f].c(),p[f].m(n,null))}for(;f<p.length;f+=1)p[f].d(1);p.length=h.length}g&1&&u!==(u="https://explorer.ergoplatform.com/en/transactions/"+d[0].transactionId)&&E(a,"href",u)},i:he,o:he,d(d){d&&v(e),ze(p,d)}}}function Mi(t,e,n){let{sale:s}=e;return t.$$set=r=>{"sale"in r&&n(0,s=r.sale)},[s]}class ji extends Pe{constructor(e){super(),$e(this,e,Mi,zi,He,{sale:0})}}function bn(t,e,n){const s=t.slice();return s[1]=e[n],s}function yn(t){let e,n;return e=new ji({props:{sale:t[1]}}),{c(){Ve(e.$$.fragment)},l(s){Ue(e.$$.fragment,s)},m(s,r){De(e,s,r),n=!0},p(s,r){const o={};r&1&&(o.sale=s[1]),e.$set(o)},i(s){n||(Z(e.$$.fragment,s),n=!0)},o(s){re(e.$$.fragment,s),n=!1},d(s){Ne(e,s)}}}function Fi(t){let e,n,s=se(t[0]),r=[];for(let i=0;i<s.length;i+=1)r[i]=yn(bn(t,s,i));const o=i=>re(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ut()},l(i){for(let l=0;l<r.length;l+=1)r[l].l(i);e=ut()},m(i,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,l);J(i,e,l),n=!0},p(i,[l]){if(l&1){s=se(i[0]);let a;for(a=0;a<s.length;a+=1){const c=bn(i,s,a);r[a]?(r[a].p(c,l),Z(r[a],1)):(r[a]=yn(c),r[a].c(),Z(r[a],1),r[a].m(e.parentNode,e))}for(En(),a=s.length;a<r.length;a+=1)o(a);Tn()}},i(i){if(!n){for(let l=0;l<s.length;l+=1)Z(r[l]);n=!0}},o(i){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)re(r[l]);n=!1},d(i){i&&v(e),ze(r,i)}}}function Gi(t,e,n){let s;return Se(t,vt,r=>n(0,s=r)),[s]}class Ki extends Pe{constructor(e){super(),$e(this,e,Gi,Fi,He,{})}}function Qi(t){let e,n,s,r,o,i,l;return n=new Pi({}),r=new Ki({}),i=new Ni({}),{c(){e=T("div"),Ve(n.$$.fragment),s=M(),Ve(r.$$.fragment),o=M(),Ve(i.$$.fragment),this.h()},l(a){e=B(a,"DIV",{class:!0,style:!0});var c=C(e);Ue(n.$$.fragment,c),s=j(c),Ue(r.$$.fragment,c),o=j(c),Ue(i.$$.fragment,c),c.forEach(v),this.h()},h(){E(e,"class","bg-main grow flex flex-col items-center gap-5 svelte-17tiq0i"),St(e,"padding-top","80px")},m(a,c){J(a,e,c),De(n,e,null),b(e,s),De(r,e,null),b(e,o),De(i,e,null),l=!0},p:he,i(a){l||(Z(n.$$.fragment,a),Z(r.$$.fragment,a),Z(i.$$.fragment,a),l=!0)},o(a){re(n.$$.fragment,a),re(r.$$.fragment,a),re(i.$$.fragment,a),l=!1},d(a){a&&v(e),Ne(n),Ne(r),Ne(i)}}}class Wi extends Pe{constructor(e){super(),$e(this,e,null,Qi,He,{})}}function Xi(t){let e,n;return e=new Wi({}),{c(){Ve(e.$$.fragment)},l(s){Ue(e.$$.fragment,s)},m(s,r){De(e,s,r),n=!0},i(s){n||(Z(e.$$.fragment,s),n=!0)},o(s){re(e.$$.fragment,s),n=!1},d(s){Ne(e,s)}}}function qi(t){let e,n='<img class="unselectable" src="ship.png" style="width:250px;" alt=""/> <div class="font-mono mt-4">loading...</div>';return{c(){e=T("div"),e.innerHTML=n,this.h()},l(s){e=B(s,"DIV",{class:!0,"data-svelte-h":!0}),Je(e)!=="svelte-83we0i"&&(e.innerHTML=n),this.h()},h(){E(e,"class","grow flex flex-col items-center justify-center")},m(s,r){J(s,e,r)},i:he,o:he,d(s){s&&v(e)}}}function Ji(t){let e,n,s,r;const o=[qi,Xi],i=[];function l(a,c){return 1}return n=l(),s=i[n]=o[n](t),{c(){e=T("div"),s.c(),this.h()},l(a){e=B(a,"DIV",{class:!0});var c=C(e);s.l(c),c.forEach(v),this.h()},h(){E(e,"class","h-full flex flex-col grow main-page svelte-19jqze9")},m(a,c){J(a,e,c),i[n].m(e,null),r=!0},p:he,i(a){r||(Z(s),r=!0)},o(a){re(s),r=!1},d(a){a&&v(e),i[n].d()}}}function Yi(t){hs(e);function e(){_s(),ms()}return[]}class so extends Pe{constructor(e){super(),$e(this,e,Yi,Ji,He,{})}}export{so as component};
